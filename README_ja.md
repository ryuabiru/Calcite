# Calcite

**Calcite**は、プログラミング不要でデータ分析や論文品質のグラフ作成を行いたい科学者、研究者、学生のために開発されたデスクトップアプリケーションです。データのインポートからグラフのエクスポートまで、一連のワークフローを単一の使いやすいインターフェースでシームレスに提供します。

[English README](README.md)

## ✨ 主な機能

### **直感的なデータ操作**

- **多彩なインポート**: CSVファイルの読み込み、またはスプレッドシート（Excelなど）からクリップボード経由での直接貼り付けに対応しています。
- **Python連携**: `pandas.DataFrame`を直接引数として渡し、既存の分析環境からシームレスに起動できます。
- **インタラクティブなテーブル**:
  - クリックによるデータの昇順・降順ソート、ダブルクリックによる列名編集が可能です。
  - フィルタリングやソート後のデータをCSVとしてエクスポートできます。
- **高度なデータ加工**:
  - **形式変換**: ワイド形式⇔ロング形式のデータ変換をGUI操作で簡単に行えます。
  - **フィルタリング**: 複数条件（AND/OR）を組み合わせた高度なフィルタリング機能を備えています。
  - **列計算**: `'ColumnA' * 100` のような数式を用いて、新しい列を動的に作成できます。

### **論文品質のグラフ描画**

- **多彩なグラフタイプ**: 散布図、棒グラフ、箱ひげ図、バイオリンプロット、ポイントプロット、折れ線グラフ、ペアード散布図など、多様なグラフをサポートしています。
- **豊富なカスタマイズ項目**:
  - 色、マーカー、線のスタイル、フォントサイズ、軸範囲、対数スケールなどをGUIから細かく設定可能です。
  - グラフの上と右の枠線を非表示にするPrism風スタイルを適用できます。
  - 棒グラフや箱ひげ図に、個々のデータ点を重ねて表示（オーバーレイ）できます。

### **充実した統計解析**

- **基本検定**: 対応のない/対応のあるt検定、Mann-Whitney U検定、Wilcoxon符号順位検定。
- **多群比較**: 一元配置分散分析 (ANOVA)、Kruskal-Wallis検定（Tukey, Dunnの事後検定に対応）。
- **回帰分析**: 線形回帰および非線形回帰（4パラメータロジスティック, 4PL）に対応し、R²値をグラフに表示。
- **相関・関連**: Spearman相関、カイ二乗検定。
- **自動アノテーション**: `statannotations`ライブラリの堅牢なロジックに基づき、統計的有意差（`*`）をグラフに自動で描画します。

e.g.
![e.g. Owe way anova](/images/one_way_anova.jpg)

### **高解像度エクスポート**

- 作成したグラフをPNG, JPEG, SVG, PDF形式で、300 DPIの高解像度で保存できます。

## 🛠️ インストール

現在開発中のためインストール方法は以下です。
Python 3.10以上が必要です。

```bash
pip install calcite
```

## 🚀 クイックスタート

1. ターミナルからCalciteを起動します:

    ```bash
    calcite
    ```

2. **File \> Open CSV...** または **Edit \> Paste** でデータをインポートします。

   - **💡 Tidy Data形式 (=Long-form) を推奨します**
   - Calciteは\*\*Tidy Data（整然データ）\*\*の考え方に基づいて設計されています。これは、以下のような構造を持つデータ形式です。
     - **1つの列が1つの変数を表す**（例：「遺伝子型」「薬剤濃度」「測定値」）
     - **1つの行が1つの観測（測定）を表す**
     - **1つのテーブルが1種類の観測単位を表す**
   - この形式は、コンピュータによる統計分析やグラフ描画に最も適しています。もしあなたのデータがExcelの集計表のように「ワイド形式」（例：各列がControl群、DrugA群のようになっている）の場合でも、Calciteの**Data \> Restructure (Wide to Long)...** 機能を使えば、簡単にTidy Data形式に変換できます。

    Tidy data (Seabornより引用)
    (<https://seaborn.pydata.org/tutorial/data_structure.html>)
    ![Tidy data](./images/Tidy%20data.png)

3. ツールバーからグラフタイプ（例: Scatter Plot, Bar Chart）を選択します。

4. 画面右下の\*\*「データ」\*\*タブで、X軸とY軸に使用する列を選択します。

5. \*\*「フォーマット」「テキストと凡例」「軸」\*\*タブで、グラフの見た目をカスタマイズします。

6. \*\*「Analysis」\*\*メニューから統計解析を実行します。

7. **File \> Save Graph As...** でグラフを保存します。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細はLICENCESファイルをご覧ください。
